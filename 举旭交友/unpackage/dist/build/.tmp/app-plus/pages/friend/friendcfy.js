(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/friend/friendcfy"],{"00e4":function(e,t,n){},"5e2f":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a})},"75f8":function(e,t,n){"use strict";n.r(t);var r=n("5e2f"),a=n("c2cf");for(var u in a)"default"!==u&&function(e){n.d(t,e,function(){return a[e]})}(u);n("ccc5");var i=n("2877"),s=Object(i["a"])(a["default"],r["a"],r["b"],!1,null,null,null);t["default"]=s.exports},c2cf:function(e,t,n){"use strict";n.r(t);var r=n("de7f"),a=n.n(r);for(var u in r)"default"!==u&&function(e){n.d(t,e,function(){return r[e]})}(u);t["default"]=a.a},ccc5:function(e,t,n){"use strict";var r=n("00e4"),a=n.n(r);a.a},de7f:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n("a34a")),u=s(n("62d2")),i=s(n("c8e6"));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,a,u,i){try{var s=e[u](i),o=s.value}catch(c){return void n(c)}s.done?t(o):Promise.resolve(o).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var u=e.apply(t,n);function i(e){o(u,r,a,i,s,"next",e)}function s(e){o(u,r,a,i,s,"throw",e)}i(void 0)})}}var f={data:function(){return{baseurl:"",nav2Show:!1,qrShow:!1,n:0,friendType:["互相关注","我的关注","关注我的人"],searchText:"17623885317",flist:[],jxnum:"",phone:"",qrImg:""}},onLoad:function(t){this.baseurl=this.global.baseUrl;var n=t.t;this.n=n,this.uinfo=this.userinfo,console.log(e(this.userinfo," at pages/friend/friendcfy.vue:122")),0==n&&this.loadFocusTog(),1==n&&this.loadFocusOthers(),2==n&&this.loadFocusMe(),this.getQrImg()},methods:{scan:function(){var t=c(a.default.mark(function t(){var n,i=this;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.checkPermission();case 2:if(n=t.sent,1===n){t.next=5;break}return t.abrupt("return");case 5:r.scanCode({success:function(){var t=c(a.default.mark(function t(n){var s,o,c;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=n.result,r.showLoading(),t.next=4,u.default.generalGET(s);case 4:o=t.sent,console.log(e(o," at pages/friend/friendcfy.vue:153")),r.hideLoading(),"OK"==o.data.code&&(c=o.data.jxmember,i.flist=[c]);case 8:case"end":return t.stop()}},t,this)}));function n(e){return t.apply(this,arguments)}return n}(),fail:function(t){console.log(e(t," at pages/friend/friendcfy.vue:161"))}});case 6:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),checkPermission:function(){var e=c(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!i.default.isIOS){e.next=6;break}return e.next=3,i.default.requestIOS("camera");case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,i.default.requestAndroid("android.permission.CAMERA");case 8:e.t0=e.sent;case 9:return n=e.t0,null===n||1===n?n=1:r.showModal({content:"需要相机权限",confirmText:"设置",success:function(e){e.confirm&&i.default.gotoAppSetting()}}),e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleSearch:function(){var t=c(a.default.mark(function t(){var n,i,s;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=this.searchText.trim(),""==n){t.next=11;break}return r.showLoading(),t.next=5,u.default.generalGET(this.global.baseUrl+"selectJxMenber",{val:n});case 5:i=t.sent,console.log(e(i," at pages/friend/friendcfy.vue:196")),r.hideLoading(),"OK"==i.data.code&&(s=i.data.jxmember,this.flist=[s]),t.next=12;break;case 11:r.showToast({title:"请输入交友信息",icon:"none"});case 12:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),handleFocus:function(){var e=c(a.default.mark(function e(t){var n;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.token){e.next=6;break}return e.next=3,u.default.generalGET(this.global.baseUrl+"AddGuanZhu",{fususerid:t},{token:this.token});case 3:e.sent,e.next=8;break;case 6:r.showToast({title:"请先登录",icon:"none"}),n=setTimeout(function(){r.navigateTo({url:"../login/login"}),clearTimeout(n)},1e3);case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getQrImg:function(){var t=c(a.default.mark(function t(){var n,r,i;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.default.generalGET(this.global.baseUrl+"Byerweima",{number:this.uinfo.jiaoyounumber});case 2:n=t.sent,console.log(e(n," at pages/friend/friendcfy.vue:234")),r="data:img/jpg;base64,",i="","OK"==n.data.code&&(i=r+n.data.binary),this.qrImg=i.replace(/[\r\n]/g,"");case 8:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),loadFocusOthers:function(){var e=c(a.default.mark(function e(){var t,n,r,i;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.default.generalGET(this.global.baseUrl+"getMyGuanZhu",{},{token:this.token});case 2:if(t=e.sent,"OK"==t.data.code){for(n=t.data.jxfollow,r=[],i=0;i<n.length;i++)r.push(n[i].jxmember1);this.flist=r}case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),loadFocusTog:function(){var e=c(a.default.mark(function e(){var t,n,r,i;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.default.generalGET(this.global.baseUrl+"getMutualGuanZhu",{},{token:this.token});case 2:if(t=e.sent,"OK"==t.data.code){for(n=t.data.jxfollow,r=[],i=0;i<n.length;i++)r.push(n[i].jxmember1);this.flist=r,this.fTogNum=n.count2,this.fOtherNum=n.count,this.fMeNum=n.count1}case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),loadFocusMe:function(){var e=c(a.default.mark(function e(){var t,n,r,i;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u.default.generalGET(this.global.baseUrl+"getGuanZhuMy",{},{token:this.token});case 2:if(t=e.sent,"OK"==t.data.code){for(n=t.data.jxfollow,r=[],i=0;i<n.length;i++)r.push(n[i].jxmember1);this.flist=r}case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleDetail:function(e){r.navigateTo({url:"../msg/timeflow?search="+e})},qrshow:function(){this.qrShow=!0},qrhide:function(){this.qrShow=!1},navToggleFn:function(){this.nav2Show=!this.nav2Show},navHideFn:function(){this.nav2Show=!1}}};t.default=f}).call(this,n("0de9")["default"],n("6e42")["default"])}},[["7b83","common/runtime","common/vendor"]]]);